app-id: com.budgetwithbuckets.Buckets
base: org.electronjs.Electron2.BaseApp
base-version: '23.08'
command: buckets.sh
finish-args:
- --device=dri
- --filesystem=xdg-documents
- --share=ipc
- --share=network
- --socket=x11
modules:
- build-commands:
  - install -Dm 644 meta/com.budgetwithbuckets.Buckets.desktop -t /app/share/applications
  - install -Dm 644 meta/com.budgetwithbuckets.Buckets.png -t /app/share/icons/hicolor/512x512/apps
  - install -Dm 644 meta/com.budgetwithbuckets.Buckets.appdata.xml /app/share/metainfo/com.budgetwithbuckets.Buckets.metainfo.xml
  - install -Dm 755 buckets.sh /app/bin/buckets.sh
  - cp -r buckets /app/buckets
  buildsystem: simple
  name: buckets
  sources:
  - dest: buckets
    only-arches:
    - x86_64
    sha512: 625415b5e880f4c04178a247a9049e69c6429256b09763158501efd5a1ebb4688f254b3f9c53d6f6602cf334e7d8f4bff85a9b1c94c56d6f4786bf1a26712de2
    type: archive
    url: https://github.com/buckets/desktop-beta/releases/download/v0.79.1/Buckets-Beta-linux-latest-amd64-0.79.1.tar.gz
  - dest: buckets
    only-arches:
    - aarch64
    sha512: 6bff0bb21524993cbbbacba6424a0ea19ff5ca3c1db6038174aead3c568f8e4d5ebb7113eabea0b58dda7867bea6beaaa0f8348755c5832eeb286208a60b7565
    type: archive
    url: https://github.com/buckets/desktop-beta/releases/download/v0.79.1/Buckets-Beta-linux-latest-arm64-0.79.1.tar.gz
  - dest: meta
    sha512: a8d2ebddbb02e52384d62e0546f406cec21e9d767429acda424ea2248b10eac93f1b790df8c47691df74a6323932130fc523339595dcc6aea35bd51a0b7d1dd9
    strip-components: 0
    type: archive
    url: https://github.com/buckets/desktop-beta/releases/download/v0.79.1/Buckets-Beta-flatpakdata-v0.79.1.tgz
  - commands:
    - TMPDIR="$XDG_RUNTIME_DIR/app/$FLATPAK_ID" zypak-wrapper /app/buckets/bucketsbeta
    dest-filename: buckets.sh
    type: script
runtime: org.freedesktop.Platform
runtime-version: '23.08'
sdk: org.freedesktop.Sdk
separate-locales: false
tags:
- proprietary

